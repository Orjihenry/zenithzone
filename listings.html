<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/listings.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Sofia">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/3.0.0/uicons-thin-rounded/css/uicons-thin-rounded.css'>
    <title>Listeings - Zenith Zone Realty</title>
</head>
<body  onload="displayListings(); trackViewedListings(); renderRecentlyViewed();">
    <header class="header">
        <nav>
            <div class="logo-div">
                <a href="index.html" class="logo-div">
                    <!-- <img src="assets/GOT.png" alt="Logo"> -->
                    <p class="logo">
                        Z
                        <span class="inner-logo">enith</span>
                        <span class="inner-logo">one</span>
                    </p>
                    <p class="realty">R <span class="inner-realty">ealty</span></p>
                </a>
            </div>
            <div class="nav-hero">
                <input type="checkbox" id="checkbox">
                <label class="btn" for="checkbox"><i class="fa fa-bars"></i> <span>Menu</span></label>

                <div class="sidebar">
                    <ul>
                        <a href="index.html"><li><i class="fa fa-house-user"></i>Home</li></a>
                        <a href="about.html"><li><i class="fa fa-lightbulb"></i>About</li></a>
                        <a href="listings.html" class="active"><li><i class="fa fa-line-chart"></i>Listings</li></a>
                        <a href="contact.html"><li><i class="fa fa-television"></i>Contact</li></a>
                        <a href="blog.html"><li><i class="fa fa-square-rss"></i>Blog</li></a>
                    </ul>
                    <div class="nav-button nav-add-mobile">
                        <a href="create.html" class="btn-add def-btn">Add Listings</a>
                    </div>
                </div>
            </div>
            <div class="nav-button nav-add">
                <a href="create.html" class="btn-add def-btn">Add Listings</a>
            </div>
        </nav>
    </header>
    <main>
        <section class="filter-section">
            <h2>Browse Listings</h2>
            <div class="filter">
                <select name="category" id="category" onchange="filterByCategory(event)">
                    <option value="all">All Listings</option>
                    <option value="Apartment">Apartment</option>
                    <option value="House">House</option>
                    <option value="Condo">Condo</option>
                    <option value="Cottage">Cottage</option>
                    <option value="Commercial">Commercial</option>
                </select>
                <select name="location" id="location" onchange="filterByLocation(event)">
                    <option value="all">All Locations</option>
                    <option value="St. John's">St. John's</option>
                    <option value="Mount Pearl">Mount Pearl</option>
                    <option value="Paradise">Paradise</option>
                    <option value="Goulds">Goulds</option>
                    <option value="Bay Bulls">Bay Bulls</option>
                    <option value="Conception Bay South">Conception Bay South</option>
                </select>
            </div>
            <input type="search" name="search" placeholder="Search by address, city, or zip code" oninput="filterByName(event)">
        </section>
        
        <section class="featured ft-section">
            <div class="ft-container">
                <div class="properties ft-row" id="listings">
                </div>
            </div>
            <div class="no-listings">
                <h2 style="width: 100%; text-align: center;">No Listings Available</h2>
                <p style="width: 100%; text-align: center;">Please check back later.</p>
            </div>
        </section>

        <section class="recent ft-section" data-exclude="true">
            <h2>Recently Viewed</h2>
            <div class="ft-container">
                <div class="properties ft-row recently-viewed">
                </div>
            </div>
            <div class="no-recent-listings">
                <p style="text-align: center; padding-bottom: 10%;">You Haven't Viewed Any Listings Yet</p>
            </div>
        </section>

        <section class="community">
            <div class="testimonials">
                <h2>What Our Clients Say</h2>
                <div class="testimonial-slider">
                    <div class="testimonial">
                        <p>"Zenith Zone Realty helped me find my dream home. Their team was professional and attentive to my needs."</p>
                        <cite>- John Doe</cite>
                    </div>
                    <div class="testimonial">
                        <p>"I had a great experience selling my property with Zenith Zone Realty. They made the process easy and stress-free."</p>
                        <cite>- Jane Smith</cite>
                    </div>
                    <div class="testimonial">
                        <p>"The agents at Zenith Zone Realty are knowledgeable and friendly. They guided me through every step of the process."</p>
                        <cite>- Mark Johnson</cite>
                    </div>
                    <div class="testimonial">
                        <p>"I highly recommend Zenith Zone Realty. They helped me find the perfect investment property."</p>
                        <cite>- Sarah Brown</cite>
                    </div>
                    <div class="testimonial">
                        <p>"Zenith Zone Realty made my home buying experience enjoyable. Their team was always available to answer my questions."</p>
                        <cite>- Emily Davis</cite>
                    </div>
                </div>
            </div>
            <div class="newsletter">
                <h2>Join Our Community</h2>
                <div>
                    <p>Stay updated with the latest listings, tips, and news in the real estate market. Subscribe to our newsletter for exclusive content.</p>
                    <form action="#" method="post">
                        <input type="email" placeholder="Enter your email" required>
                        <button type="submit" class="def-btn">Subscribe</button>
                    </form>
                </div>
            </div>
        </section>

        <section id="myModal" class="modal">
            
        </section>

    </main>

    <footer class="footer">
        <p>&copy; 2023 Zenith Zone Realty. All rights reserved.</p>
    </footer>
    
    <script src="js/main.js"></script>
    <script src="js/filter.js"></script>
    <script>
        let updated = urlParams.get("updated");
        let deleted = urlParams.get("deleted");
        let created = urlParams.get("created");
    
        if (updated) {
            Swal.fire({
                position: "top-end",
                icon: "success",
                title: "Listing updated successfully!",
                showConfirmButton: false,
                timer: 1800
            });
        } else if (deleted) {
            Swal.fire({
                position: "top-end",
                icon: "success",
                title: "Listing deleted successfully!",
                showConfirmButton: false,
                timer: 1800
            });
        }
        else if (created) {
            Swal.fire({
                position: "top-end",
                icon: "success",
                title: "Listing created successfully!",
                showConfirmButton: false,
                timer: 1800
            });
        }
    
        // Remove query parameters from URL
        if (updated || deleted || created) {
            history.replaceState(null, "", window.location.pathname);
        }
    </script>
</body>
</html>
